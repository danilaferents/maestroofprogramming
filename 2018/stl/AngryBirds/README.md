Main points:
1)Use fraction as a degree 
2)Map contains x and degree of every pair(highest)
3)Set contains all lines to kill birds
4)lines => shots